<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Precificação para Joias Artesanais em Cobre</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Calculadora de Precificação para Joias Artesanais</h1>
            <p class="subtitle">Calcule o preço justo para suas criações em cobre</p>
        </header>

        <div class="instructions">
            <p><i class="fas fa-info-circle"></i> Preencha os campos abaixo com as informações da sua peça. Os cálculos serão atualizados automaticamente.</p>
        </div>

        <div class="calculator-container">
            <form id="price-calculator">
                <!-- Seção 1: Informações da Peça -->
                <section class="form-section" id="piece-info">
                    <h2><i class="fas fa-tag"></i> Informações da Peça</h2>
                    <div class="form-group">
                        <label for="piece-name">Nome da Peça:</label>
                        <input type="text" id="piece-name" placeholder="Ex: Anel de cobre com Olho de Tigre">
                    </div>
                    <div class="form-group">
                        <label for="piece-description">Descrição (opcional):</label>
                        <textarea id="piece-description" placeholder="Breve descrição da peça..."></textarea>
                    </div>
                </section>

                <!-- Seção 2: Custos de Materiais -->
                <section class="form-section" id="materials">
                    <h2><i class="fas fa-gem"></i> Custos de Materiais</h2>
                    
                    <!-- Cobre -->
                    <div class="subsection">
                        <h3>Cobre</h3>
                        <div class="form-group">
                            <label for="copper-weight">Peso (gramas):</label>
                            <input type="number" id="copper-weight" min="0" step="0.1" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="copper-price">Preço por grama (R$):</label>
                            <input type="number" id="copper-price" min="0" step="0.01" placeholder="1.30">
                        </div>
                        <div class="result-group">
                            <label>Custo total do cobre:</label>
                            <span id="copper-total-cost">R$ 0,00</span>
                        </div>
                    </div>

                    <!-- Pedras Semi-preciosas -->
                    <div class="subsection">
                        <h3>Pedras Semi-preciosas</h3>
                        <div id="gemstones-container">
                            <!-- Template para pedras -->
                            <div class="dynamic-item gemstone-item">
                                <div class="form-group">
                                    <label>Tipo:</label>
                                    <input type="text" class="gemstone-type" placeholder="Ex: Olho de Tigre">
                                </div>
                                <div class="form-group">
                                    <label>Quantidade:</label>
                                    <input type="number" class="gemstone-quantity" min="1" value="1">
                                </div>
                                <div class="form-group">
                                    <label>Preço unitário (R$):</label>
                                    <input type="number" class="gemstone-price" min="0" step="0.01" placeholder="0">
                                </div>
                                <button type="button" class="remove-item"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                        <button type="button" id="add-gemstone" class="add-button"><i class="fas fa-plus"></i> Adicionar Pedra</button>
                        <div class="result-group">
                            <label>Custo total das pedras:</label>
                            <span id="gemstones-total-cost">R$ 0,00</span>
                        </div>
                    </div>

                    <!-- Outros Materiais -->
                    <div class="subsection">
                        <h3>Outros Materiais</h3>
                        <div id="other-materials-container">
                            <!-- Template para outros materiais -->
                            <div class="dynamic-item other-material-item">
                                <div class="form-group">
                                    <label>Descrição:</label>
                                    <input type="text" class="other-material-type" placeholder="Ex: Feixe">
                                </div>
                                <div class="form-group">
                                    <label>Quantidade:</label>
                                    <input type="number" class="other-material-quantity" min="1" value="1">
                                </div>
                                <div class="form-group">
                                    <label>Preço unitário (R$):</label>
                                    <input type="number" class="other-material-price" min="0" step="0.01" placeholder="0">
                                </div>
                                <button type="button" class="remove-item"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                        <button type="button" id="add-other-material" class="add-button"><i class="fas fa-plus"></i> Adicionar Material</button>
                        <div class="result-group">
                            <label>Custo total de outros materiais:</label>
                            <span id="other-materials-total-cost">R$ 0,00</span>
                        </div>
                    </div>

                    <div class="result-group total-section">
                        <label>Custo Total de Materiais:</label>
                        <span id="materials-total-cost">R$ 0,00</span>
                    </div>
                </section>

                <!-- Seção 3: Mão de Obra -->
                <section class="form-section" id="labor">
                    <h2><i class="fas fa-hands"></i> Mão de Obra</h2>
                    <div class="form-group">
                        <label for="hourly-rate">Valor da hora de trabalho (R$):</label>
                        <input type="number" id="hourly-rate" min="0" step="0.01" placeholder="0">
                        <div class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltiptext">Quanto você deseja ganhar por hora de trabalho. Se você deseja ganhar R$ 3.000 por mês trabalhando 160 horas, seu valor hora seria R$ 18,75.</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="work-hours">Tempo dedicado à peça (horas):</label>
                        <input type="number" id="work-hours" min="0" step="0.25" placeholder="0">
                        <div class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltiptext">Inclua todo o tempo gasto: planejamento, preparação, execução e acabamento.</span>
                        </div>
                    </div>
                    <div class="result-group">
                        <label>Custo de Mão de Obra:</label>
                        <span id="labor-cost">R$ 0,00</span>
                    </div>
                </section>

                <!-- Seção 4: Despesas Indiretas -->
                <section class="form-section" id="indirect-expenses">
                    <h2><i class="fas fa-file-invoice-dollar"></i> Despesas Indiretas</h2>
                    
                    <div class="subsection">
                        <h3>Despesas Fixas Mensais</h3>
                        <div class="form-group">
                            <label for="rent">Aluguel (R$):</label>
                            <input type="number" id="rent" min="0" step="0.01" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="electricity">Energia (R$):</label>
                            <input type="number" id="electricity" min="0" step="0.01" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="water">Água (R$):</label>
                            <input type="number" id="water" min="0" step="0.01" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="internet">Internet (R$):</label>
                            <input type="number" id="internet" min="0" step="0.01" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="other-expenses">Outros custos fixos (R$):</label>
                            <input type="number" id="other-expenses" min="0" step="0.01" placeholder="0">
                        </div>
                    </div>

                    <div class="subsection">
                        <h3>Desgaste de Equipamentos</h3>
                        <div class="form-group">
                            <label for="equipment-value">Valor total dos equipamentos (R$):</label>
                            <input type="number" id="equipment-value" min="0" step="0.01" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="equipment-lifespan">Vida útil estimada (meses):</label>
                            <input type="number" id="equipment-lifespan" min="1" value="36">
                            <div class="tooltip">
                                <i class="fas fa-question-circle"></i>
                                <span class="tooltiptext">Tempo estimado até precisar substituir os equipamentos. Padrão: 36 meses (3 anos).</span>
                            </div>
                        </div>
                    </div>

                    <div class="subsection">
                        <h3>Horas Trabalhadas por Mês</h3>
                        <div class="form-group">
                            <label for="daily-hours">Horas trabalhadas por dia:</label>
                            <input type="number" id="daily-hours" min="1" max="24" value="8">
                        </div>
                        <div class="form-group">
                            <label for="monthly-days">Dias trabalhados por mês:</label>
                            <input type="number" id="monthly-days" min="1" max="31" value="20">
                        </div>
                        <div class="result-group">
                            <label>Total de horas mensais:</label>
                            <span id="monthly-hours">160 horas</span>
                        </div>
                    </div>

                    <div class="result-group">
                        <label>Total de despesas mensais:</label>
                        <span id="monthly-expenses">R$ 0,00</span>
                    </div>
                    <div class="result-group">
                        <label>Custo por hora de despesas indiretas:</label>
                        <span id="hourly-expenses">R$ 0,00</span>
                    </div>
                    <div class="result-group">
                        <label>Despesas Indiretas para esta peça:</label>
                        <span id="piece-expenses">R$ 0,00</span>
                    </div>
                </section>

                <!-- Seção 5: Impostos e Taxas -->
                <section class="form-section" id="taxes">
                    <h2><i class="fas fa-percentage"></i> Impostos e Taxas</h2>
                    <div class="form-group">
                        <label for="sales-tax">Impostos sobre vendas (%):</label>
                        <input type="number" id="sales-tax" min="0" max="100" step="0.1" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="platform-fee">Taxa de plataforma de vendas (%):</label>
                        <input type="number" id="platform-fee" min="0" max="100" step="0.1" placeholder="0">
                        <div class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltiptext">Se você vende em marketplaces ou plataformas online, inclua a taxa cobrada.</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="payment-fee">Taxa de transação de pagamento (%):</label>
                        <input type="number" id="payment-fee" min="0" max="100" step="0.1" placeholder="0">
                    </div>
                    <div class="result-group">
                        <label>Total de Impostos e Taxas:</label>
                        <span id="taxes-total">R$ 0,00</span>
                    </div>
                </section>

                <!-- Seção 6: Margem de Lucro -->
                <section class="form-section" id="profit-margin">
                    <h2><i class="fas fa-chart-line"></i> Margem de Lucro</h2>
                    <div class="form-group">
                        <label for="profit-percentage">Percentual de margem de lucro (%):</label>
                        <input type="number" id="profit-percentage" min="0" max="1000" step="1" value="40">
                        <div class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltiptext">Recomendação: entre 30% e 50% para joias artesanais.</span>
                        </div>
                    </div>
                    <div class="result-group">
                        <label>Valor de Lucro:</label>
                        <span id="profit-value">R$ 0,00</span>
                    </div>
                </section>

                <!-- Seção 7: Valor Artístico -->
                <section class="form-section" id="artistic-value">
                    <h2><i class="fas fa-paint-brush"></i> Valor Artístico</h2>
                    <div class="form-group">
                        <label for="artistic-factor">Fator de valor artístico (multiplicador):</label>
                        <input type="number" id="artistic-factor" min="1" max="10" step="0.1" value="1">
                        <div class="tooltip">
                            <i class="fas fa-question-circle"></i>
                            <span class="tooltiptext">Use este multiplicador para peças com alto valor artístico ou exclusividade. 1 = sem ajuste, 2 = dobro do valor, etc.</span>
                        </div>
                    </div>
                    <div class="result-group">
                        <label>Ajuste por Valor Artístico:</label>
                        <span id="artistic-adjustment">R$ 0,00</span>
                    </div>
                </section>

                <!-- Seção 8: Resumo e Preço Final -->
                <section class="form-section result-section" id="final-price">
                    <h2><i class="fas fa-receipt"></i> Resumo e Preço Final</h2>
                    <div class="summary-container">
                        <div class="summary-item">
                            <label>Custo de Materiais:</label>
                            <span id="summary-materials">R$ 0,00</span>
                        </div>
                        <div class="summary-item">
                            <label>Custo de Mão de Obra:</label>
                            <span id="summary-labor">R$ 0,00</span>
                        </div>
                        <div class="summary-item">
                            <label>Despesas Indiretas:</label>
                            <span id="summary-expenses">R$ 0,00</span>
                        </div>
                        <div class="summary-item">
                            <label>Impostos e Taxas:</label>
                            <span id="summary-taxes">R$ 0,00</span>
                        </div>
                        <div class="summary-item">
                            <label>Lucro:</label>
                            <span id="summary-profit">R$ 0,00</span>
                        </div>
                        <div class="summary-item">
                            <label>Ajuste Artístico:</label>
                            <span id="summary-artistic">R$ 0,00</span>
                        </div>
                        <div class="summary-item total">
                            <label>Custo Total:</label>
                            <span id="summary-cost">R$ 0,00</span>
                        </div>
                        <div class="summary-item total">
                            <label>Preço Final Sugerido:</label>
                            <span id="final-price-value">R$ 0,00</span>
                        </div>
                    </div>

                    <div class="chart-container">
                        <canvas id="price-chart"></canvas>
                    </div>

                    <div class="form-group">
                        <label for="round-price">Arredondar preço para:</label>
                        <select id="round-price">
                            <option value="none">Não arredondar</option>
                            <option value="0.5">Múltiplos de R$ 0,50</option>
                            <option value="1">Múltiplos de R$ 1,00</option>
                            <option value="5">Múltiplos de R$ 5,00</option>
                            <option value="10">Múltiplos de R$ 10,00</option>
                            <option value="50">Múltiplos de R$ 50,00</option>
                            <option value="100">Múltiplos de R$ 100,00</option>
                        </select>
                    </div>
                    <div class="result-group rounded-price">
                        <label>Preço Final Arredondado:</label>
                        <span id="rounded-price">R$ 0,00</span>
                    </div>
                </section>

                <!-- Botões de Ação -->
                <div class="action-buttons">
                    <button type="button" id="save-calculation" class="action-button"><i class="fas fa-save"></i> Salvar Cálculo</button>
                    <button type="button" id="load-calculation" class="action-button"><i class="fas fa-folder-open"></i> Carregar Cálculo</button>
                    <button type="button" id="export-pdf" class="action-button"><i class="fas fa-file-pdf"></i> Exportar PDF</button>
                    <button type="button" id="reset-form" class="action-button"><i class="fas fa-undo"></i> Limpar Formulário</button>
                </div>
            </form>
        </div>

        <div id="saved-calculations" class="hidden">
            <h3>Cálculos Salvos</h3>
            <div id="saved-list"></div>
            <button id="close-saved" class="action-button"><i class="fas fa-times"></i> Fechar</button>
        </div>

        <footer>
            <p>Calculadora de Precificação para Joias Artesanais em Cobre &copy; 2025</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
